<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Urbanization</title>

    <!-- Bootstrap -->
    <link href="../static/css/bootstrap.min.css" rel="stylesheet">
          
    <!-- highcharts -->
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <!--[if lt IE 9]>
      <script src="https://code.highcharts.com/modules/oldie.js"></script>
    <![endif]-->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.5.0/d3.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"/>
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://cdn.rawgit.com/socib/Leaflet.TimeDimension/master/dist/leaflet.timedimension.control.min.css"/>
    <link rel="stylesheet" type="text/css" href="style.css">

  </head>

  <body>
<!-- Navigation Start -->
    <nav class="navbar navbar-default static-top">
      <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
            <span class="navbar-brand glyphicon glyphicon-equalizer" href="#"></span>
            <a class="navbar-brand" href="/">(SUB)URBAN NEWS</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav">
            <li class="active"><a href="/">COMPARISON DATA REPORT<span class="sr-only">(current)</span></a></li>
            <li><a href="/employment">EMPLOYMENT DATA SOURCE</a></li>
            <li><a href="/population">POPULATION DATA SOURCE</a></li>
          </ul>

          <ul class="nav navbar-nav navbar-right">
            
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">PLOTS<span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="/fig1">Urbanization Trends</a></li>
                <li><a href="/fig2">Employment Stats</a></li>
                <li><a href="/fig3">Population Growth</a></li>
                <li role="separator" class="divider"></li>
                <li><a href="http://hdr.undp.org/en/content/income-gini-coefficient" target="_blank">Income Gini Coefficient</a></li>
                <li><a href="https://www.nytimes.com/interactive/2015/05/03/upshot/the-best-and-worst-places-to-grow-up-how-your-area-compares.html" target="_blank">NYTimes D3: Best & Worst Places To Grow Up</a></li>
              </ul>
            </li>
          </ul>
        </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </nav>
<!-- Navigation End -->
<!-- HighChartsJS demo -->

<div class="container">
  <div class="row">
  <h3>Overview</h3>
    <h4>Is Urbanization On The Decline?</h4>
    <p>Our team utilized <a href="/fig1">LeafletJS</a> and <a href="/fig2">HighChartJS</a> charting libraries, built working Flask API endpoints, and SQLite as our database.</p>
  </div>
</div>

<div class="container">
  <div class="row">
  <h3>Three Key Analysis Points</h3>
  </div>
<br>
<!-- ACCORDION -->
  <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">

<!-- PANEL -->
  <div class="panel panel-default documents" style="display: block;">
    <div class="panel-heading" role="tab">
      <h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#panel0">0. HighChartJS: Urbanization Trends</a></h4>
    </div>
    <div id="panel0" class="panel-collapse collapse" role="tabpanel">
      <div class="panel-body">
        <div class="row">
          <div class="col-sm-12" style="padding-top:20px;">  
            <a href="/fig1"><img src="../static/images/1accordion.png" alt="overview-screenshot"/></a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- PANEL -->
  <div class="panel panel-default documents" style="display: block;">
    <div class="panel-heading" role="tab">
      <h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#panel1">1. LeafletJS Bubble Chart</a></h4>
    </div>
    <div id="panel1" class="panel-collapse collapse" role="tabpanel">
      <div class="panel-body">
        <div class="row">
          <div class="col-sm-3">
            <a href="#modal11" data-target="#modal11" data-toggle="modal"><img src="../static/images/under_development200px.png"></a>
            <h5>1.1. Average daily population</h5>
          </div>
          <div class="col-sm-3">
            <a href="#modal12" data-target="#modal12" data-toggle="modal"><img src="../static/images/under_development200px.png"></a>
            <h5>1.2. Average daily sentenced population</h5>
          </div>
          <div class="col-sm-3">
            <a href="#modal13" data-target="#modal13" data-toggle="modal"><img src="../static/images/under_development200px.png"></a>
            <h5>1.3. Measure of legitimacy and fairness, proportion pre-trial</h5>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- PANEL -->
  <div class="panel panel-default documents" style="display: block;">
    <div class="panel-heading" role="tab">
      <h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#panel2">2. Population Growth & Employment Over Time</a></h4>
    </div>
    <div id="panel2" class="panel-collapse collapse" role="tabpanel">
      <div class="panel-body">
        <div class="row">
          <div class="col-sm-3">
            <a href="#modal21" data-target="#modal21" data-toggle="modal"><img src="../static/images/under_development200px.png"></a>
            <h5>2.1. Racial and ethnic disparities among jail population</h5>
          </div>
          <div class="col-sm-3">
            <a href="#modal22" data-target="#modal22" data-toggle="modal"><img src="../static/images/under_development200px.png">
            <h5>2.2. Ratio of nonwhite to white jail admission rate in general adult population</h5>
          </div>
          <div class="col-sm-3">
            <a href="#modal23" data-target="#modal23" data-toggle="modal"><img src="../static/images/under_development200px.png"></a>
            <h5>2.3. Ratio of average length of stay nonwhite to white, pre-trial released</h5>
          </div>
          <div class="col-sm-3">
            <a href="#modal24" data-target="#modal24" data-toggle="modal"><img src="../static/images/under_development200px.png"></a>
            <h5>2.4. Ratio of average length of stay of sentenced individuals nonwhite to white, released from jail</h5>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>

<!-- Block 2 -->

<div class="modal fade wide" id="modal01" tabindex="-1" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">&times;</button>
        <h2 class="modal-title" class="ss-standard ss-alert">0.1. Arrest Data (Total Arrest Rate per 10,000)</h2>
      </div>
      <div class="modal-body">
        <div class="container">
          <div class="row">
            <div class="col-sm-12 chart-wrap">   
              <div id="arrestdata_cook" class="chart"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade wide" id="modal11" tabindex="-1" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">&times;</button>
        <h2 class="modal-title" class="ss-standard ss-alert">1.1. Average Daily Population</h2>
      </div>
      <div class="modal-body">
        <div class="container">
          <div class="row">
            <div class="col-sm-12 chart-wrap">   
              <div id="adp_cook" class="chart"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade wide" id="modal12" tabindex="-1" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">×</button>
        <h2 class="modal-title" class="ss-standard ss-alert">1.2. Average Daily Sentenced Population</h2>
      </div>
      <div class="modal-body">
        <div class="container">
          <div class="row">
            <div class="col-sm-12 chart-wrap">
              <div id="adsp_cook" class="chart"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<br>

  <div class="container">
    <div class="row">
        <div class="col-md-8">
            <img src="../static/images/Fig1-temperature.png" alt="temperature-detail"/>    
        </div>
        <br>
        <div class="col-md-3">
            <hr>
            <p>This is a detail view of the Latitude VS Temperature (one year ago) on January 5, 2017.</p>
        </div>
    </div>
  </div>
<br>

</div>

<!-- HighCharts JS -->
    <script src="../static/js/highcharts.js"></script>
    <script>
    $(function() {
    Highcharts.setOptions({lang: { numericSymbols: null,thousandsSep: ','},});var setFontsize = '20px';var setFontsizeLegend = '22px';var topMargin = 20;var axisMargin = 20;var rightMargin = 200;var bgColor = '#252830';
    //Chart Data
    var arrestdata_cook = [{ name: 'Cook County, IL (Local)',color: '#1ca8dd',dashStyle: 'Solid',data: [193.1,181.8,175.0,169.9,154.2,139.6,null,null],zIndex: 1,visible: true},{ name: 'Synthetic Match (BJS)',color:'#00b324',dashStyle: 'ShortDash',data: [497.1,455.3,427.7,422.1,410.2,372.9,null,null],visible: true},{ name: 'Will County, IL (BJS)',color: '#E3E3E6',dashStyle: 'ShortDashDot',data: [113.7,106.7,103.5,97.0,94.8,92.8],visible: true}];
    //Make Chart
    $("#arrestdata_cook").highcharts({chart: { marginRight: rightMargin,marginTop: topMargin,backgroundColor:bgColor,type: 'line',alignTicks: false},legend: { layout: 'horizontal',itemStyle: { fontSize: setFontsizeLegend}},credits: false,exporting: { enabled: false},title: false,xAxis: [{title: { style: { fontSize: setFontsize},margin: axisMargin},plotLines: [{ color: '#ff0000',width: 2,value: 4.5,zIndex: 1,label: { text: 'Strategy Approved',verticalAlign: 'middle',textAlign: 'center',style: { color: 'white',fontWeight: 'bold',fontSize: 18}}}],categories: [2010,2011,2012,2013,2014,2015,2016,2017],tickmarkPlacement: 'off',labels: {style: { fontSize: setFontsize}}}],yAxis:[{title: { text: 'Total Arrest Rate per 10,000 (1,000 displayed)',style: { fontSize: setFontsize},margin: axisMargin},max: 1000,min: 0,tickInterval: 250,labels: { formatter: function() {return Highcharts.numberFormat(this.value,0);},style: { fontSize: setFontsize}}}],tooltip: { shared: true,useHTML: true,headerFormat: '<h5>{point.key}</h5>',pointFormat: '<span style="color:{series.color}">●</span> {series.name}: <b>{point.y}</b><br>',style: { fontSize: setFontsize}},plotOptions: { column: { dataLabels: { style: { fontSize: setFontsize}},style: { color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black',fontSize: setFontsize}},series: { lineWidth: 4,marker: { fillColor: bgColor,radius: 6,lineWidth: 4,lineColor: null,states: { hover: { enabled: true, radiusPlus: 4}}},states: { hover: { enabled: true,lineWidthPlus: 2}}}},series: arrestdata_cook});
    //Chart Data
    var adp_cook=[{name:'Cook County, IL (Local)',color:'#1ca8dd',dashStyle:'Solid',data:[9586,9576,9823,10565,10055,8515,null,null,null,null],zIndex:1,visible:!0},{name:'Synthetic Match (BJS)',color:'#00b324',dashStyle:'ShortDash',data:[3575,3434,3434,3328,3476,3225,null,null,null,null],visible:!0},{name:'Will County, IL (BJS)',color:'#E3E3E6',dashStyle:'ShortDashDot',data:[712,697,795,893,835,776,null,null,null,null],visible:!0},{name:'Target',color:'#cc00ff',dashStyle:'ShortDash',data:[null,null,null,null,null,null,2500,2500,2500,2500],marker:{enabled:!1},zIndex:1,visible:!0}]
    //Make Chart
    $("#adp_cook").highcharts({chart: { marginRight: rightMargin,marginTop: topMargin,backgroundColor:bgColor,type: 'line',alignTicks: false},legend: { layout: 'horizontal',itemStyle: { fontSize: setFontsizeLegend}},credits: false,exporting: { enabled: false},title: false,xAxis: [{title: { style: { fontSize: setFontsize},margin: axisMargin},plotLines: [{ color: '#ff0000',width: 2,value: 4.5,zIndex: 1,label: { text: 'Strategy Approved',verticalAlign: 'middle',textAlign: 'center',style: { color: 'white',fontWeight: 'bold',fontSize: 18}}}],categories: [2010,2011,2012,2013,2014,2015,2016,2017,2018,2019],tickmarkPlacement: 'off',labels: {style: { fontSize: setFontsize}}}],yAxis:[{title: { text: 'Average Daily Population',style: { fontSize: setFontsize},margin: axisMargin},max: 15000,min: 0,tickInterval: 2500,labels: { formatter: function() {return Highcharts.numberFormat(this.value,0);},style: { fontSize: setFontsize}}}],tooltip: { shared: true,useHTML: true,headerFormat: '<h5>{point.key}</h5>',pointFormat: '<span style="color:{series.color}">●</span> {series.name}: <b>{point.y}</b><br>',style: { fontSize: setFontsize}},plotOptions: { column: { dataLabels: { style: { fontSize: setFontsize}},style: { color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black',fontSize: setFontsize}},series: { lineWidth: 4,marker: { fillColor: bgColor,radius: 6,lineWidth: 4,lineColor: null,states: { hover: { enabled: true, radiusPlus: 4}}},states: { hover: { enabled: true,lineWidthPlus: 2}}}},series: adp_cook});
    //Chart Data
    var adsp_cook = [{ name: 'Cook County, IL (Local)',color: '#1ca8dd',dashStyle: 'Solid',data: [82784,80912,78416,78780,112424,92795,null,null],zIndex: 1,visible: true},{ name: 'Synthetic Match (BJS)',color:'#00b324',dashStyle: 'ShortDash',data: [51152,47354,46008,45770,45214,42084,null,null],visible: true},{ name: 'Will County, IL (BJS)',color: '#E3E3E6',dashStyle: 'ShortDashDot',data: [10608,2028,6422,10816,11708,12599,null,null],visible: true}];
    //Make Chart
    $("#adsp_cook").highcharts({chart: { marginRight: rightMargin,marginTop: topMargin,backgroundColor:bgColor,type: 'line',alignTicks: false},legend: { layout: 'horizontal',itemStyle: { fontSize: setFontsizeLegend}},credits: false,exporting: { enabled: false},title: false,xAxis: [{title: { style: { fontSize: setFontsize},margin: axisMargin},plotLines: [{ color: '#ff0000',width: 2,value: 4.5,zIndex: 1,label: { text: 'Strategy Approved',verticalAlign: 'middle',textAlign: 'center',style: { color: 'white',fontWeight: 'bold',fontSize: 18}}}],categories: [2010,2011,2012,2013,2014,2015,2016,2017],tickmarkPlacement: 'off',labels: {style: { fontSize: setFontsize}}}],yAxis:[{title: { text: 'Average Daily Sentenced Population',style: { fontSize: setFontsize},margin: axisMargin},max: 120000,min: 0,tickInterval: 30000,labels: { formatter: function() {return Highcharts.numberFormat(this.value,0);},style: { fontSize: setFontsize}}}],tooltip: { shared: true,useHTML: true,headerFormat: '<h5>{point.key}</h5>',pointFormat: '<span style="color:{series.color}">●</span> {series.name}: <b>{point.y}</b><br>',style: { fontSize: setFontsize}},plotOptions: { column: { dataLabels: { style: { fontSize: setFontsize}},style: { color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black',fontSize: setFontsize}},series: { lineWidth: 4,marker: { fillColor: bgColor,radius: 6,lineWidth: 4,lineColor: null,states: { hover: { enabled: true, radiusPlus: 4}}},states: { hover: { enabled: true,lineWidthPlus: 2}}}},series: adsp_cook});

    // reflow charts in hidden modals
    $('.modal').on('shown.bs.modal', function () {$(".chart").each(function() {var chart = $(this).highcharts();chart.reflow();});});        
    $('').on('shown.bs.modal', function () {$(".chart").each(function() {var chart = $(this).highcharts();chart.reflow();});});
    });
    </script>
      
    <!-- End HighChartsJS demo -->

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="../static/js/bootstrap.min.js"></script>
  </body>
</html>